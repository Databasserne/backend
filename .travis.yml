language: java
sudo: false # faster builds
jdk:
 - oraclejdk8
env:
 - CI=true
services:
 - mysql
before_script:
 - sh -c "mysql -e 'DROP DATABASE IF EXISTS gutenberg_test;'"
 - sh -c "mysql -e 'CREATE DATABASE IF NOT EXISTS gutenberg_test;'"
 - sh -c "mysql -u root --default-character-set=utf8 gutenberg_test < CreateGutenbergTest.sql"
 - sh -c "mysql -u root --default-character-set=utf8 gutenberg_test < TestData.sql"
# install Neo4j locally:
 - wget dist.neo4j.org/neo4j-community-3.1.2-unix.tar.gz
 - tar -xzf neo4j-community-3.1.2-unix.tar.gz
 - neo4j-community-3.1.2/bin/neo4j start
 - curl -vX POST http://neo4j:neo4j@localhost:7474/user/neo4j/password -d"password=neo4j"
 - neo4j-community-3.1.2/bin/neo4j-shell -file neo4jData.cql